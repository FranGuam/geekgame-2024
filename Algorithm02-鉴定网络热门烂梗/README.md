### 题面

根据摩尔定律，每过 18 个月，GeekGame 题面里的网络热门烂梗含量就会翻一倍。面对题面里越来越多的烂梗，选手们纷纷表示：**下次多来点。**

![img](https://geekgame.pku.edu.cn/media/algo-gzip-survey.webp)
↑ 数据来自上届选手反馈

尽管如此，低质量的烂梗由于不包含任何有效信息，还是令一些人感到不适。为了鉴别梗的质量，我们从校际和平公司订购了最新产品——烂梗混淆器：

输入一段文本后，它会**对文本进行异或和打乱处理，再进行 gzip 压缩。**这样操作后，绝大多数低质量的烂梗将被完全混淆。由于预算有限，我们只部署了免费体验版，最多只能处理 1000 字，令人忍俊不禁。

那么，究竟是什么样的烂梗，才能在重重混淆之后依然维持自己的模样呢？前有绝景，敬请见证。

**提示：**

- ![img](https://geekgame.pku.edu.cn/media/algo-gzip-comment.webp)
- 无需关注编码过程的实现细节，也可以控制编码结果的一些性质保持不变。找个纯 Python 实现的 gzip **解码器** 就足以解出此题。
- 具体来说，可以试着把产生的 Huffman 表控制为等长的（每个字符都转换为同样多个比特）。两个 Flag 都可以在这个情况下解出。

### 提示

- gzip 使用 deflate 算法，它分为 LZ77 和 Huffman 编码两个步骤。
- LZ77 仅在输入包含三个字节以上的重复子串时才起作用，其他时候可以当它不存在。Huffman 树的构造仅与字符的出现频率有关，而与顺序无关（数据的结束也会被视为一种字符）。
- 两个 Flag 的难度是相似的，只不过 Flag 2 可能需要大战 Datalab（bushi。

### 解答